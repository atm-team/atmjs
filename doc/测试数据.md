# 模拟数据
* 在文本格式的模拟数据的访问地址上附加上`callback=xxx`则可转换成jsonp数据（callback可通过站点的设置文件中的jsonpName设置为不同的名字）
* 在模拟数据的访问地址上附加上`timeout=xxx`则可以在xxx毫秒后再返回数据(timeout可通过站点的设置文件中的timeoutName设置为不同的名字)


## .json格式的数据策略
* .json文件必须是标准json格式
* .json文件可以通过路径的方式读取到json文件里面的深层字段

```js
// ^_^ 数据源文件 html/xxx.json
{
  "data1": {
    "code": 200,
    "msg": "ok",
    "data": {
      "list": "some text"
    }
  },
  "data2": {
    "code": 404,
    "msg": "404 error"
  }
}

```

```js
// ^_^ 通过http://pathto/html/xxx.json访问,返回全数据:
{
  "data1": {
    "code": 200,
    "msg": "ok",
    "data": {
      "list": "some text"
    }
  },
  "data2": {
    "code": 404,
    "msg": "404 error"
  }
}

// ^_^ 通过http://pathto/html/xxx.json/data1访问,返回json数据data1字段的值:

{
  "code": 200,
  "msg": "ok",
  "data": {
    "list": "some text"
  }
}

// ^_^ 同理,通过http://pathto/html/xxx.json/data1/data访问,返回data1字段的data字段的值(依次类推):

{
  "list": "some text"
}

```

## .js格式文件策略
* .js文件是通过url末尾是否含有```.js```进行区分是静态脚本还是模拟数据
* 如果作为模拟数据,必须遵循如下格式：
```js
// gets 通过get方式传递的数据
// posts 通过post方式传递的数据
// return出的数据即为模拟数据
module.exports = function (gets, posts) {
  var datas;
  // some code
  return datas;
}
```
* 作为模拟数据其实是一个node.js模块,考虑到代码安全相关因素,在开源目录(默认为lib目录)下的模块包内不支持.js格式的模拟数据

```js
// 数据源文件 xxx.js
module.exports = function (gets, posts) {
    if (gets['code'] == 200) {
        return {
            code: 200,
            msg: 'ok'
        }
    } else {
        return {
            code: 404,
            msg: '404 error'
        }
    }
};
```

```js
// ^_^ 通过 http://pathto/html/xxx.js，作为静态脚本返回：
module.exports = function (gets, posts, req, res) {
    if (gets['code'] == 200) {
        return {
            code: 200,
            msg: 'ok'
        }
    } else {
        return {
            code: 404,
            msg: '404 error'
        }
    }
};

// ^_^ 通过 http://pathto/html/xxx，作为模拟数据返回：
{
  "code": 404,
  "msg": "404 error"
}

// ^_^ 通过 http://pathto/html/xxx?code=200
{
  "code": 404,
  "msg": "404 error"
}
```
## .html格式文件策略
* .html格式文件可以当作模板文件来对待，请参考模板章节文档

## 其他格式
对于其他文件格式,则根据文件名后缀确定其MIME类型，文件内容保持原状返回。

